import{g as f,a as _,u as d}from"./utils-CG6mtOFN.js";const p=document.querySelector(".chats__inner"),N=e=>{const t=u(e);p.prepend(t)},h=e=>{let t=new DocumentFragment;for(let a of e){let n=u(a);t.append(n)}p.append(t)},u=e=>{let t=document.createElement("li"),a=document.createElement("a"),n=document.createElement("img"),c=document.createElement("div"),r=document.createElement("span"),l=document.createElement("span"),s=document.createElement("div"),m=document.createElement("span"),i=document.createElement("div");return t.append(a),a.append(n),a.append(c),a.append(s),c.append(r),c.append(l),s.append(m),s.append(i),t.className="chat",a.className="chat__link",a.href=`./chat.html?chatId=${e.id}`,n.setAttribute("src",e.avatar),c.className="chat__main",r.className="chat__main-name",l.className="chat__main-message",s.className="chat__info",m.className="chat__info-time",i.className="material-icons",r.innerText=e.name,l.innerText=e.lastMessage,m.innerText=e.lastMessageTime,i.innerText=e.lastMessageIcon,t},g="CHATS";let E=d.length,o=[];S();h(d);const I=document.querySelector(".fix-button");I.addEventListener("click",()=>{const e={id:(E++).toString(),name:"Новый чат",lastMessage:"",lastMessageTime:"",lastMessageIcon:"",avatar:`https://api.dicebear.com/9.x/adventurer/svg?seed=${f()}&translateY=5&flip=true&skinColor=f2d3b1&backgroundColor=${_()}`};o.unshift(e),localStorage.setItem(g,JSON.stringify(o)),N(e)});function S(){const e=localStorage.getItem(g);if(!e)return;const t=JSON.parse(e);h(t),o.push(...t),console.log(o)}
